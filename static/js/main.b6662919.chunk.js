(this["webpackJsonpmodule-02"]=this["webpackJsonpmodule-02"]||[]).push([[0],{29:function(e,n,t){},51:function(e,n,t){},52:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t.n(r),a=t(23),o=t.n(a),i=(t(29),t(14)),s=t(3),u=t.n(s),d=t(10),l=t(24),f=t(11),j=t.n(f),m=t(6),b=t(7),p=t(9),h=t(8),v=t(0),O=function(e){Object(p.a)(t,e);var n=Object(h.a)(t);function t(){var e;Object(m.a)(this,t);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=n.call.apply(n,[this].concat(c))).state={},e}return Object(b.a)(t,[{key:"render",value:function(){var e=this.props,n=e.medal,t=e.country,r=e.onIncrement,c=e.onDecrement;return Object(v.jsxs)("div",{className:"medals",children:[n.name," Medals: ",t[n.name],Object(v.jsx)("button",{onClick:function(){return r(t.id,n.name)},children:"+"}),Object(v.jsx)("button",{disabled:0===t[n.name],onClick:function(){return c(t.id,n.name)},children:"-"})]})}}]),t}(r.Component),x=function(e){var n=e.country,t=e.medals,r=e.onIncrement,c=e.onDecrement,a=e.onDelete;return Object(v.jsxs)("div",{className:"country",children:[Object(v.jsxs)("div",{className:"name",children:[n.name,Object(v.jsx)("span",{className:"badge",children:function(e,n){var t=0;return n.forEach((function(n){t+=e[n.name]})),t}(n,t)})]}),t.map((function(e){return Object(v.jsx)(O,{country:n,medal:e,onIncrement:r,onDecrement:c},e.id)})),Object(v.jsx)("button",{onClick:function(){return a(n.id)},children:"delete"}),Object(v.jsx)("hr",{})]})},y=function(e){Object(p.a)(t,e);var n=Object(h.a)(t);function t(){var e;Object(m.a)(this,t);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=n.call.apply(n,[this].concat(c))).state={},e.handleClick=function(){var n=prompt("Enter country name");n&&n.trim().length>0&&e.props.onAdd(n)},e}return Object(b.a)(t,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"newCountryButton",children:Object(v.jsx)("button",{onClick:this.handleClick,children:"New Country"})})}}]),t}(r.Component),g=(t(51),function(){var e="https://localhost:44373/Api/country",n=Object(r.useState)([]),t=Object(l.a)(n,2),a=t[0],o=t[1],s=Object(r.useRef)([{id:1,name:"gold"},{id:2,name:"silver"},{id:3,name:"bronze"}]);Object(r.useEffect)((function(){function n(){return(n=Object(d.a)(u.a.mark((function n(){var t,r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.a.get(e);case 2:t=n.sent,r=t.data,o(r);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]);var f=function(){var n=Object(d.a)(u.a.mark((function n(t){var r,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.a.post(e,{name:t});case 2:r=n.sent,c=r.data,o(a.concat(c));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),m=function(){var n=Object(d.a)(u.a.mark((function n(t){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=a,o(a.filter((function(e){return e.id!==t}))),n.prev=2,n.next=5,j.a.delete("".concat(e,"/").concat(t));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),n.t0.response&&404===n.t0.response.status?console.log("The record does not exist - it may have already been deleted"):(alert("An error occurred while deleting"),o(r));case 10:case"end":return n.stop()}}),n,null,[[2,7]])})));return function(e){return n.apply(this,arguments)}}(),b=function(e,n){var t=a.findIndex((function(n){return n.id===e})),r=Object(i.a)(a);r[t][n]+=1,o(r)},p=function(e,n){var t=a.findIndex((function(n){return n.id===e})),r=Object(i.a)(a);r[t][n]-=1,o(r)};return Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsxs)("div",{className:"appHeading",children:["Olympic Medals",Object(v.jsx)("span",{className:"badge",children:function(){var e=0;return s.current.forEach((function(n){e+=a.reduce((function(e,t){return e+t[n.name]}),0)})),e}()})]}),Object(v.jsx)("div",{className:"countries",children:a.map((function(e){return Object(v.jsx)(x,{country:e,medals:s.current,onDelete:m,onIncrement:b,onDecrement:p},e.id)}))}),Object(v.jsx)(y,{onAdd:f})]})}),k=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,53)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),r(e),c(e),a(e),o(e)}))};o.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(g,{})}),document.getElementById("root")),k()}},[[52,1,2]]]);
//# sourceMappingURL=main.b6662919.chunk.js.map